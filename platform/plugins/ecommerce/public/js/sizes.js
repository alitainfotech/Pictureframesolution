(()=>{function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function t(){!
/*!*****************************************************************!*\
  !*** ./platform/plugins/ecommerce/resources/assets/js/sizes.js ***!
  \*****************************************************************/
function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.template=$("#size_template").html(),this.deletedItems=[],this.initData(),this.handleForm()}var a,n,i;return a=t,(n=[{key:"initData",value:function(){var e=this,t=$.parseJSON($("#product_sizes").html());$.each(t,(function(t,a){var n=e.template.replace(/__id__/gi,a.id).replace(/__name__/gi,a.name).replace(/__number__/gi,a.number);$(".swatches-container .swatches-list").append(n)}))}},{key:"addNewAttribute",value:function(e){var t=this.template.replace(/__id__/gi,0).replace(/__name__/gi,"").replace(/__number__/gi,"");$(".swatches-container .swatches-list").append(t)}},{key:"exportData",value:function(){var e=[];return $(".swatches-container .swatches-list li").each((function(t,a){var n=$(a);e.push({id:n.data("id"),name:n.find("[data-type=name] input").val(),number:n.find("[data-type=number] input").val()})})),e}},{key:"handleForm",value:function(){var e=this;$(".swatches-container .swatches-list").sortable(),$("body").on("submit",".main-setting-form",(function(){var t=e.exportData();$("#product_sizes").val(JSON.stringify(t)),$("#deleted_product_sizes").val(JSON.stringify(e.deletedItems))})).on("click",".js-add-new-attribute",(function(t){t.preventDefault(),$(t.target).parent().hasClass("swatches-container")&&e.addNewAttribute("width"),$(t.target).parent().hasClass("swatches-height")&&e.addNewAttribute("height")})).on("click",".swatches-container .swatches-list li .remove-item a",(function(t){t.preventDefault();var a=$(t.currentTarget).closest("li");e.deletedItems.push(a.data("id")),a.remove()}))}}])&&e(a.prototype,n),i&&e(a,i),t}();$(window).on("load",(function(){new t}))})();
